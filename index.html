<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Setembro Amarelo</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/png" href="android-chrome-192x192.png">
    <!-- Biblioteca Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <header id="topo">
      <h1>Setembro Amarelo</h1>
      <p>Voc√™ n√£o est√° sozinho. Sua vida importa!</p>
    </header>

    <!-- MENU DE NAVEGA√á√ÉO -->
    <nav class="menu">
      <ul>
        <li><a href="#topo">In√≠cio</a></li>
        <li><a href="#info">Preven√ß√£o</a></li>
        <li><a href="#palavras">Palavras</a></li>
        <li><a href="#ajuda">Ajuda</a></li>
        <li><a href="#links">Parceiros</a></li>
        <li><a href="#video">V√≠deo</a></li>
        <li><a href="#resultados">Resultados</a></li>
      </ul>
    </nav>

    <main class="layout">
      <!-- Conte√∫do principal (lado esquerdo) -->
      <div class="content">
        <section id="info" class="info">
          <h2>Preven√ß√£o contra o suicidio e mutila√ß√£o</h2>
          <p>
            A dor que voc√™ sente agora √© real, mas ela n√£o √© eterna.
            A vida √© cheia de altos e baixos, e o momento dif√≠cil que voc√™ enfrenta pode ser superado com ajuda, apoio e tempo.
          </p>
          <ul>
            <li>Voc√™ √© importante para algu√©m, mesmo que n√£o veja agora.</li>
            <li>Existem profissionais e pessoas que querem te ajudar.</li>
            <li>Voc√™ pode encontrar novas raz√µes para sorrir novamente.</li>
          </ul>
        </section>

        <section id="palavras" class="palavras">
          <h2>Palavras que podem te ajudar</h2>
          <div class="mensagem" id="mensagemMotivacional">
            Clique no bot√£o abaixo para receber uma mensagem de apoio ‚ù§Ô∏è
          </div>
          <button onclick="novaMensagem()">Nova Mensagem</button>
        </section>

        <section id="ajuda" class="ajuda">
          <h2>Procure ajuda</h2>
          <p>
            Se voc√™ est√° passando por momentos dif√≠ceis, converse com algu√©m. Voc√™ pode ligar para o <strong>CVV - 188</strong> (Centro de Valoriza√ß√£o da Vida), dispon√≠vel 24h.
          </p>
          <a href="https://www.cvv.org.br/" target="_blank" class="botao-ajuda">Acesse o site do CVV</a>
        </section>

        <!-- NOVA SE√á√ÉO DE RESULTADOS -->
        <section id="resultados" class="resultados">
          <h2>Resultados da Pesquisa</h2>
          <p>Confira abaixo alguns dados coletados em nossa pesquisa de conscientiza√ß√£o:</p>

          <div class="graficos-grid">
            <div class="grafico-item">
              <h3>Voc√™ j√° ouviu falar do Setembro Amarelo?</h3>
              <canvas id="grafico1" width="200" height="200"></canvas>
            </div>

            <div class="grafico-item">
              <h3>√â importante falar sobre sa√∫de mental?</h3>
              <canvas id="grafico2" width="200" height="200"></canvas>
            </div>

            <div class="grafico-item">
              <h3>Quando tem problemas, voc√™ costuma:</h3>
              <canvas id="grafico3" width="200" height="200"></canvas>
            </div>

            <div class="grafico-item">
              <h3>Voc√™ conhece o CVV?</h3>
              <canvas id="grafico4" width="200" height="200"></canvas>
            </div>

            <div class="grafico-item">
              <h3>Conversar sobre suic√≠dio ajuda a prevenir?</h3>
              <canvas id="grafico5" width="200" height="200"></canvas>
            </div>
          </div>
        </section>
      </div>

      <!-- Barra lateral (lado direito) -->
      <aside class="sidebar" id="links">
        <section class="links">
          <h2>Links de Apoio / Parceiros</h2>

          <!-- Lista de links (populada pelo JS) -->
          <ul id="parceirosList" aria-live="polite"></ul>

          <!-- Formul√°rio para adicionar novo parceiro -->
          <form id="addParceiroForm" class="add-parceiro" onsubmit="return adicionarParceiro(event)">
            <label for="nomeParceiro">Nome do site</label>
            <input id="nomeParceiro" name="nomeParceiro" type="text" placeholder="Ex.: Meu Site" required />

            <label for="urlParceiro">URL</label>
            <input id="urlParceiro" name="urlParceiro" type="url" placeholder="https://exemplo.com" required />

            <button type="submit">Adicionar Link</button>
          </form>

          <p class="nota">
            Os links adicionados ficam salvos no seu navegador (localStorage). Para compartilhamento p√∫blico, envie ao mantenedor do site.
          </p>
        </section>

        <!-- NOVA SE√á√ÉO DE V√çDEO -->
        <section id="video" class="video-apoio">
          <h2>Assista e reflita</h2>
          <div class="video-container">
            <iframe 
              src="https://www.youtube.com/embed/zp5UPSF_RTA" 
              title="V√≠deo motivacional Setembro Amarelo" 
              frameborder="0" 
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
              allowfullscreen>
            </iframe>
          </div>
        </section>
      </aside>
    </main>

    <footer>
      <p>Campanha de preven√ß√£o ao suic√≠dio - Setembro Amarelo üíõ</p>
    </footer>

    <script src="script.js"></script>

    <!-- Scripts para gr√°ficos -->
    <script>
      // Fun√ß√£o gen√©rica para criar gr√°ficos
      function criarGrafico(id, tipo, labels, dados, cores) {
        new Chart(document.getElementById(id), {
          type: tipo,
          data: {
            labels: labels,
            datasets: [{
              data: dados,
              backgroundColor: cores
            }]
          },
          options: {
            plugins: { legend: { position: "bottom" } }
          }
        });
      }

      // Gr√°fico 1
      criarGrafico("grafico1", "pie", ["Sim", "N√£o"], [90, 10], ["#FFD700", "#333"]);

      // Gr√°fico 2
      criarGrafico("grafico2", "pie", ["Sim", "N√£o"], [95, 5], ["#28a745", "#dc3545"]);

      // Gr√°fico 3
      criarGrafico("grafico3", "bar",
        ["Amigos/Fam√≠lia", "Ajuda Profissional", "Guardar para si"],
        [40, 30, 30],
        ["#007bff", "#17a2b8", "#ffc107"]
      );

      // Gr√°fico 4
      criarGrafico("grafico4", "doughnut", ["Sim", "N√£o"], [35, 65], ["#6f42c1", "#e83e8c"]);

      // Gr√°fico 5
      criarGrafico("grafico5", "pie", ["Sim", "N√£o"], [92, 8], ["#20c997", "#fd7e14"]);
    </script>
    <script>
      // Detecta quando os gr√°ficos aparecem na tela
      const graficos = document.querySelectorAll(".grafico-item");
    
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add("show");
          }
        });
      }, { threshold: 0.2 });
    
      graficos.forEach(grafico => {
        observer.observe(grafico);
      });
    </script>
  </body>
</html>
